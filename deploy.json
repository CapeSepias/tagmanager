{
  "defaultStacks": ["flexible"],
  "packages":{
    "tag-manager":{
      "type":"autoscaling",
      "data":{
        "port":9000,
        "bucket":"composer-dist",
        "publicReadAcl": false
      }
    },
    "tag-manager-cloudformation" : {
      "type": "cloud-formation",
      "fileName": "cloudformation",
      "data": {
        "templatePath": "tag-manager.json",
        "cloudFormationStackName": "TagManager",
        "prependStackToCloudFormationStackName": false,
        "templateParameters": {
          "MachineImagesAMI": "ami-6857e51b"
        }
      }
    }
  },
  "recipes":{
    "default":{
      "depends" : ["artifactUploadOnly", "tagManagerrCloudformation", "deployOnly"]
    },
    "deployOnly":{
      "actionsPerHost": ["tag-manager.deploy"]
    },
    "artifactUploadOnly":{
      "actionsBeforeApp": ["tag-manager.uploadArtifacts"]
    },
    "tagManagerrCloudformation": {
      "actions": ["tag-manager-cloudformation.updateStack"]
    }
  }
}
